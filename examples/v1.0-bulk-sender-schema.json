{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "description": "Describes a sender",
    "title": "Bulk sender resource",
    "required": [
	"receiver_id",
	"transport_params"
    ],
    "additionalProperties": false,
    "properties": {
	"receiver_ids": {
	    "description": "ID of the target Receiver of this Sender (relevant for unicast only)",
	    "type": ["string", "null"],
	    "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
	    "default": null
	},
	"transport_params": {
	    "description": "Transport-specific parameters",
	    "type": "array",
	    "description": "Describes RTP Sender transport parameters",
	    "title": "RTP Sender Transport Parameters",
	    "items": {
		"type": "object",
		"title": "Sender Output",
		"required": [
		    "src_ip",
		    "dest_ip",
		    "src_port",
		    "dest_port",
                    "fec_enabled",
                    "fec_dest_ip",
		    "fec_type",
		    "fec_mode",
		    "fec_block_width",
		    "fec_block_height",
		    "fec1D_dest_port",
		    "fec2D_dest_port",
		    "fec1D_src_port",
		    "rtcp_enabled",
		    "rtcp_dest_ip",
		    "rtcp_dest_port",
		    "rtcp_src_port",
		    "rtp_enabled"
		],
                "additionalProperties": false,
		"properties" : {
	            "src_ip": {
		        "type":"string",
		        "description": "Source IP address of RTP packets (relevant for source-specific multicast)",
		        "anyOf": [
		            {"format": "ipv4"},
		            {"format": "ipv6"}
		        ]
	            },
	            "dest_ip": {
		        "type":"string",
		        "description": "Destination IP address of RTP packets (may be multicast group address, otherwise IP address of the interface bound to this receiver input)",
		        "anyOf": [
		            {"format": "ipv4"},
		            {"format": "ipv6"}
		        ]
	            },
	            "dest_port": {
		        "type": "integer",
		        "description": "destination port for RTP packets",
		        "minimum": 5000,
		        "maximum": 49151
	            },
                    "fec_enabled": {
                        "type": "boolean",
                        "description": "FEC usage on/off"
                    },
                    "fec_dest_ip": {
                        "type": "string",
                        "description": "May be used if NAT is being used at the destination (auto = rtp_dest_ip)",
                        "anyOf": [
                            {"format": "ipv4"},
                            {"format": "ipv6"},
                            {"pattern": "^auto$"}
                        ]
                    },
	            "fec_type": {
		        "type": "string",
		        "description": "forward error correction mode to apply",
		        "enum": [
		            "XOR",
		            "Reed-Solomon"
		        ]
	            },
  	            "fec_mode": {
		        "type": "string",
		        "description": "forward error correction mode to apply",
		        "enum": [
		            "1D",
		            "2D"
		        ]
	            },
	            "fec1D_dest_port": {
		        "type": ["integer", "string"],
		        "description": "destination port for RTP Column FEC packets (auto = RTP dest_port+2)",
		        "minimum": 5000,
		        "maximum": 49151,
		        "pattern": "^auto$",
		        "default": "auto"
	            },
	            "fec2D_dest_port": {
		        "type": ["integer", "string"],
		        "description": "destination port for RTP Row FEC packets (auto = RTP dest_port+4)",
		        "minimum": 5000,
		        "maximum": 49151,
		        "pattern": "^auto$",
		        "default": "auto"
	            },
                    "fec1D_src_port": {
                        "type": ["integer", "string"],
                        "description": "source port for RTP FEC packets (auto = generated by server)",
                        "minimum": 5000,
                        "maximum": 49151,
                        "pattern": "^auto$",
                        "default": "auto"
                    },
                    "fec2D_src_port": {
                        "type": ["integer", "string"],
                        "description": "source port for RTP FEC packets (auto = generated by server)",
                        "minimum": 5000,
                        "maximum": 49151,
                        "pattern": "^auto$",
                        "default": "auto"
                    },
	            "rtcp_dest_ip": {
		        "type":"string",
		        "description": "Destination IP address of RTCP packets (auto = same as RTP dest_ip)",
		        "anyOf": [
		            {"format": "ipv4"},
		            {"format": "ipv6"},
		            {"pattern": "^auto$"}
		        ],
		        "default":"auto"
	            },
	            "rtcp_enabled": {
		        "type": "boolean",
		        "description": "rtcp on/off",
	            },
	            "rtcp_dest_port": {
		        "type": ["integer", "string"],
		        "description": "destination port for RTCP packets (auto = RTP dest_port+1 )",
		        "minimum": 5000,
		        "maximum": 49151,
		        "pattern": "^auto$",
		        "default": "auto"
	            },
                    "rtp_enabled": {
       		        "type": "boolean",
		        "description": "RTP reception active/inactive",
	            }
		}
	    },
	    "maxItems" : 2
	}
    }
}
