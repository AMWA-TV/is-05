{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "description": "Describes a sender",
    "title": "Sender resource",
    "required": [
	"receiver_id",
	"transport_params"
    ],
    "properties": {
	"receiver_id": {
	    "description": "ID of the target Receiver of this Sender (relevant for unicast only)",
	    "type": ["string", "null"],
	    "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
	    "default": null
	},
	"transport_params": {
	    "description": "Transport-specific parameters",
	    "type": "array",
	    "description": "Describes RTP Sender transport parameters",
	    "title": "RTP Sender Transport Parameters",
	    "items": {
		"type": "object",
		"title": "Sender Output",
		"required": [
		    "src_ip",
		    "dest_ip",
		    "src_port",
		    "dest_port",
		    "fec_type",
		    "fec_mode",
		    "fec_block_width",
		    "fec_block_height",
		    "fec1D_dest_port",
		    "fec2D_dest_port",
		    "fec_src_port",
		    "rtcp_mode",
		    "rtcp_dest_ip",
		    "rtcp_dest_port",
		    "rtcp_src_port",
		    "rtp_enabled"
		],
		"properties" : {
		    "src_ip": {
			"type":"string",
			"description": "IP address from which RTP packets will be sent (IP address of interface bound to this output)",
			"readOnly": true,
			"anyOf": [
			    {"format": "ipv4"},
			    {"format": "ipv6"}
			]
		    },
		    "dest_ip": {
			"type":"string",
			"description": "IP address to which RTP packets will be sent",
			"anyOf": [
			    {"format": "ipv4"},
			    {"format": "ipv6"}
			]
		    },
  		    "src_port": {
			"type": "integer",
			"description": "source port for RTP packets",
			"minimum": 5000,
			"maximum": 49151
		    },
		    "dest_port": {
			"type": "integer",
			"description": "destination port for RTP packets",
			"minimum": 5000,
			"maximum": 49151
		    },
		    "fec_type": {
			"type": "string",
			"description": "forward error correction mode to apply",
			"enum": [
			    "XOR",
			    "Reed-Solomon"
			]
		    },
  		    "fec_mode": {
			"type": "string",
			"description": "forward error correction mode to apply",
			"enum": [
			    "Disabled",
			    "1D",
			    "2D"
			]
		    },
		    "fec_block_width": {
			"type": "integer",
			"description": "width of block over which FEC is calculated in packets",
			"minimum": 4,
			"maximum": 200
		    },
		    "fec_block_height": {
			"type": "integer",
			"description": "height of block over which FEC is calculated in packets",
			"minimum": 4,
			"maximum": 200
		    },
		    "fec1D_dest_port": {
			"type": ["integer", "string"],
			"description": "destination port for RTP Column FEC packets (auto = RTP dest_port+2)",
			"minimum": 5000,
			"maximum": 49151,
			"pattern": "^auto$",
			"default": "auto"
		    },
		    "fec2D_dest_port": {
			"type": ["integer", "string"],
			"description": "destination port for RTP Row FEC packets (auto = RTP dest_port+4)",
			"minimum": 5000,
			"maximum": 49151,
			"pattern": "^auto$",
			"default": "auto"
		    },
		    "fec_src_port": {
			"type": "integer",
			"description": "source port for RTP FEC packets",
			"minimum": 5000,
			"maximum": 49151
		    },
		    "rtcp_mode": {
			"type": "string",
			"description": "rtcp on/off",
			"enum": [
			    "Disabled",
			    "Enabled"
			]
		    },
		    "rtcp_dest_ip": {
			"type":"string",
			"description": "IP address to which RTCP packets will be sent (auto = same as RTP dest_ip)",
			"anyOf": [
			    {"format": "ipv4"},
			    {"format": "ipv6"},
			    {"pattern": "^auto$"}
			],
			"default":"auto"
		    },
		    "rtcp_dest_port": {
			"type": ["integer", "string"],
			"description": "destination port for RTCP packets",
			"minimum": 5000,
			"maximum": 49151,
			"pattern": "^auto$",
			"default": "auto"
		    },
		    "rtcp_src_port": {
			"type": "integer",
			"description": "source port for RTCP packets",
			"minimum": 5000,
			"maximum": 49151
		    },
		    "rtp_enabled": {
       			"type": "string",
			"description": "RTP reception active/inactive",
			"enum": [
        		    "Enabled",
          		    "Disabled"
			]
		    }
		}
	    },
	    "maxItems" : 2
	}
    }
}
