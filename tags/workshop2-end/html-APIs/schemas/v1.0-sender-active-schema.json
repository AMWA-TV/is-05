{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "description": "Describes a sender",
    "title": "Sender resource",
    "additionalProperties": false,
    "required": [
        "receiver_id",
        "master_enable",
        "activation",
        "transport_params"
    ],
    "properties": {
        "receiver_id": {
            "description": "ID of the target Receiver of this Sender. This will be null if the sender is operating in multicast mode, or has not been assigned a receiver in unicast mode, or is sending to a non-NMOS receiver in unicast mode.",
            "type": [
                "string",
                "null"
            ],
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
            "default": null
        },
        "master_enable": {
            "description": "Master on/off control for sender",
            "type": "boolean",
            "default": true
        },
        "activation": {
            "description": "Parameters concerned with activation of the transport parameters",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "mode",
                "activation_time"
            ],
            "properties": {
                "mode": {
                    "description": "Mode of activation: immediate (on message receipt), scheduled_absolute (when internal clock >= requested_time), scheduled_relative (when internal clock >= time of message receipt + requested_time), or null (no activation scheduled)",
                    "type": [
                        "string",
                        "null"
                    ],
                    "enum": [
                        "activate_immediate",
                        "activate_scheduled_absolute",
                        "activate_scheduled_relative",
                        null
                    ]
                },
                "activation_time": {
                    "description": "String formatted TAI timestamp (<seconds>:<nanoseconds>) indicating absolute time the sender was activated with the current parameters. This field may be null after startup.",
                    "type": [
                        "string",
                        "null"
                    ],
                    "default": null,
                    "pattern": "^[0-9]+:[0-9]+$"
                }
            }
        },
        "transport_params": {
            "description": "Transport-specific parameters",
            "oneOf": [
                { "$ref": "v1.0_sender_transport_params_rtp.json" },
                { "$ref": "v1.0_sender_transport_params_dash.json" }
            ]
        }
    }
}
